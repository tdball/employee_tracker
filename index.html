<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/theme.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
            integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
            crossorigin=""></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBotE4PbLbkOzdfAdfQVcV3ih-c_CHlS9I">
    </script>
    <script type='text/javascript' src="assets/js/data.js"></script>
    <script type='text/javascript' src="assets/js/mapSwitch.js"></script>
    <script type='text/javascript' src="assets/js/mapDataValidation.js"></script>
    <script type='text/javascript' src="assets/js/populateUserData.js"></script>
</head>
<body>
    <div class="fullscreen">
        <div class="map-area">
            <div class="map" id="gmap"></div>
            <div class="map" style='display:none;' id="omap"></div>
        </div>
        <div class="map-controls">
            <button class="map-toggle" type="button" id="mapToggle" onclick="mapSwitch.toggleMaps()">Toggle OpenStreet Maps</button>
        </div>
    </div>
<script>
    let mapSwitch = new MapSwitch()
    let openMarkers = []
    // Verify page content has loaded.
    document.addEventListener("DOMContentLoaded", function() {

        let gmap = initGoogle('gmap')
        let omap = initLeaflet('omap')
        // lets populate the userData across both maps
        for(let entry of userData) {
            if(validCoordinate(entry)) {
                populateGoogle(entry, gmap)
                populateLeaflet(entry, omap)
            }
        }
    });
</script>
</body>
</html>